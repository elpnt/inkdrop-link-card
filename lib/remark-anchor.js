"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=createRemarkAnchor;var _react=_interopRequireDefault(require("react"));var _useFetchData=require("./useFetchData");function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createRemarkAnchor(OrigA){return function RemarkAnchor(props){const{href,children}=props;const[label]=children instanceof Array?children:[];const isAutoLinkEnabled=inkdrop.config.get("link-card.autolinks");const imageShape=inkdrop.config.get("link-card.imageShape");const{image,title,description}=(0,_useFetchData).useFetchData(href);if(typeof label==="string"&&label==="card"||isAutoLinkEnabled&&label===href){return _react.default.createElement("a",{href:href,className:"link-card-anchor"},_react.default.createElement("div",{className:"link-card"},_react.default.createElement("div",{className:`link-card-image ${imageShape}`},image?_react.default.createElement("img",{src:image}):_react.default.createElement("span",null)),_react.default.createElement("div",{className:"link-card-text"},_react.default.createElement("span",{className:"link-card-title"},title),_react.default.createElement("span",{className:"link-card-description"},description))))}if(OrigA){return _react.default.createElement(OrigA,_extends({},props),children)}else{return _react.default.createElement("a",_extends({},props),children)}}}